# 列表 List

是否修改数据结构，操作分为

- 静态操作： 仅读取，数据结构的内容及组成一般不变：get、search 
- 动态操作： 需写入，数据结构的局部或整体将改变：put、insert、remove

数据元素的存储与组织策略也存在两种方式

- 静态存储： 数据空间整体创建或销毁，数据元素的**物理存储次序**与其**逻辑次序**严格一致；可支持高效的**静态**操作。比如向量，元素的物理地址与其逻辑次序线性对应
- 动态存储：为各数据元素动态地分配和回收的物理空间，**逻辑上相邻元素记录彼此的物理地址**，在逻辑上形成一个整体；可支持**高效**的动态操作



## 列表（list）是采用动态储存策略的典型结构

- 其中的元素称作节点（node），通过指针或引用彼此联接，在逻辑上构成一个线性序列：L = { a0, a1, ..., an-1 }
- 相邻节点彼此互称前驱（predecessor）或后继（successor），前驱或后继存在，则必然唯一。
- 没有前驱/后继的唯一节点称作首（first/front）/末（last/rear）节点
- 列表节点的秩和物理节点没有明确的对立关系

![image-20221106232050049](assets\image-20221106232050049.png)



**ListNode ADT接口**

作为列表的基本元素 列表节点首先需要 独立地“封装”实现

列车 ~ 车厢 ~ 货物 list ~ node ~ data

|            操作 | 功能                                          |
| --------------: | --------------------------------------------- |
|          pred() | 当前节点前驱节点的位置                        |
|          succ() | 当前节点后继节点的位置                        |
|          data() | 当前节点所存数据对象                          |
| insertAsPred(e) | 插入前驱节点，存入被引用对象e，返回新节点位置 |
| insertAsSucc(e) | 插入后继节点，存入被引用对象e，返回新节点位置 |



**List ADT接口**

|                          操作接口 | 功能                                 | 适用对象      |
| --------------------------------: | ------------------------------------ | ------------- |
|                            size() | 报告列表当前的规模（节点总数）       | 列表          |
|                   first(), last() | 返回首、末节点的位置                 | 列表          |
| insertAsFirst(e), insertAsLast(e) | 将e当作首、末节点插入                | 列表          |
|        insert(p, e), insert(e, p) | 将e当作节点p的直接**后继、前驱**插入 | 列表          |
|                         remove(p) | 删除位置p处的节点，返回其中数据项    | 列表          |
|                      disordered() | 判断所有节点是否已按非降序排列       | 列表          |
|                            sort() | 调整各节点的位置，使之按非降序排列   | 列表          |
|                           find(e) | 查找目标元素e，失败时返回NULL        | 列表          |
|                         search(e) | 查找e，返回不大于e且秩最大的节点     | 有序列表      |
|         deduplicate(), uniquify() | 剔除重复节点                         | 列表/有序列表 |
|                        traverse() | 遍历列表                             | 列表、        |

```c++
#include "listNode.h" //引入列表节点类
template <typename T> class List { //列表模板类
	private: int _size; ListNodePosi<T> header, trailer; //哨兵
	//头、首、末、尾节点的秩，可分别理解为-1、0、n-1、n
	protected: /* ... 内部函数 */
	public: /* ... 构造函数、析构函数、只读接口、可写接口、遍历接口 */
};
```

头尾哨兵是不可见的

首末是对外可见的

![image-20221106234810285](assets\image-20221106234810285.png)
